{% extends 'finance/base.html' %}
{% load static %}

{% block title %}Budget Setup{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="row mb-4">
    <div class="col">
      <h2 class="mb-3">{% if is_new_budget %}Create New Budget{% else %}Edit Budget{% endif %}</h2>
      <p class="lead">Set up your monthly budget to track your spending against your income.</p>
    </div>
  </div>

  <div class="card mb-4">
    <div class="card-body">
      <form method="post">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
        <div class="alert alert-danger">
          {% for error in form.non_field_errors %}
            {{ error }}
          {% endfor %}
        </div>
        {% endif %}
        
        <div class="row mb-4">
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label for="{{ form.month.id_for_label }}" class="form-label">Budget Month</label>
              {{ form.month }}
              {% if form.month.errors %}
                <div class="invalid-feedback d-block">{{ form.month.errors }}</div>
              {% endif %}
            </div>
          </div>
          
          <div class="col-md-6">
            <div class="form-group mb-3">
              <label for="{{ form.total_income.id_for_label }}" class="form-label">Total Income ($)</label>
              {{ form.total_income }}
              {% if form.total_income.errors %}
                <div class="invalid-feedback d-block">{{ form.total_income.errors }}</div>
              {% endif %}
            </div>
          </div>
        </div>
        
        <div class="d-flex justify-content-between">
          <a href="{{ cancel_url }}" class="btn btn-outline-secondary">Cancel</a>
          <button type="submit" class="btn btn-primary">Continue to Allocations</button>
        </div>
      </form>
    </div>
  </div>
  
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Zero-Based Budgeting</h5>
      <p class="card-text">
        Zero-based budgeting means allocating all your income to expense categories, savings, or emergency funds.
        In the next step, you'll allocate your total income across different categories until the entire amount is assigned.
      </p>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
  // Initialize date picker if needed
  document.addEventListener('DOMContentLoaded', function() {
    // Any additional JavaScript can be added here
  });
</script>
{% endblock %}