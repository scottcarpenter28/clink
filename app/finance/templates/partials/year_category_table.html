<div class="category-breakdown-section" data-table="{% if 'Needs' in title %}needs-details{% elif 'Wants' in title %}wants-details{% elif 'Debts' in title %}debts-details{% elif 'Savings' in title %}savings-details{% elif 'Investing' in title %}investing-details{% endif %}">
    <h2 class="section-title">{{ title }}</h2>
    {% if categories %}
    <div class="table-wrapper">
        <div class="table-responsive">
            <table class="table year-table">
                <thead>
                    <tr>
                        <th class="sticky-col">Category</th>
                        <th class="text-end" data-column="jan">Jan</th>
                        <th class="text-end" data-column="feb">Feb</th>
                        <th class="text-end" data-column="mar">Mar</th>
                        <th class="text-end" data-column="apr">Apr</th>
                        <th class="text-end" data-column="may">May</th>
                        <th class="text-end" data-column="jun">Jun</th>
                        <th class="text-end" data-column="jul">Jul</th>
                        <th class="text-end" data-column="aug">Aug</th>
                        <th class="text-end" data-column="sep">Sep</th>
                        <th class="text-end" data-column="oct">Oct</th>
                        <th class="text-end" data-column="nov">Nov</th>
                        <th class="text-end" data-column="dec">Dec</th>
                        <th class="text-end total-col" data-column="total">Total</th>
                        <th class="text-end average-col" data-column="average">Average</th>
                    </tr>
                </thead>
                <tbody>
                    {% for category_name, category_data in categories.items %}
                    <tr class="category-row {{ type_class }}">
                        <td class="sticky-col category-label">{{ category_name }}</td>
                        <td class="text-end amount" data-column="jan">${{ category_data.months.0|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="feb">${{ category_data.months.1|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="mar">${{ category_data.months.2|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="apr">${{ category_data.months.3|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="may">${{ category_data.months.4|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="jun">${{ category_data.months.5|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="jul">${{ category_data.months.6|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="aug">${{ category_data.months.7|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="sep">${{ category_data.months.8|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="oct">${{ category_data.months.9|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="nov">${{ category_data.months.10|floatformat:2 }}</td>
                        <td class="text-end amount" data-column="dec">${{ category_data.months.11|floatformat:2 }}</td>
                        <td class="text-end amount total-col" data-column="total">${{ category_data.total|floatformat:2 }}</td>
                        <td class="text-end amount average-col" data-column="average">${{ category_data.average|floatformat:2 }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% else %}
    <div class="empty-category-state">
        <p>No {{ title|lower }} data for this year.</p>
    </div>
    {% endif %}
</div>
